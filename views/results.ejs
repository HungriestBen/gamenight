<% layout('layout') -%>

<!-- We will need the following:
- Database for where scores are being kept
  - Models > players will be used 
  - We need the game_id - NEEDS TO BE PASSED THROUGH VIA LAST PAGE (Talk to Chris)
- Organise the players results by score to determine first, second, third, etc
  - forEach loop required to display it all
- Button required to take you back to the home page
 -->
<div class="gap"></div>
<div class="results-wrapper">
  <form action="/end-game?gameId=<%= gameId %>&_method=DELETE" method="POST">

    <% if(winners.length === 1) { %>
      <h1 class="results-title">Winner</h1>
    <% } else { %>
      <h1 class="results-title">Winners</h1>
    <% } %>
    <span class="results-winner">WINNER MESSAGE</span>

    <div class="winner-wrapper"> 
      <% winners.forEach(winner => { %>
        <span class="results-display-name"><%= winner.display_name %></span> 
        <span class="results-total">score: <%=winner.score %></span>
      <% }) %>
    </div>

    <% if(losers.length === 1) { %>
      <h1 class="results-title">Loser</h2>
    <% } else { %>
      <h1 class="results-title">Losers</h2>
    <% } %>
    <span class="results-loser">LOSER MESSAGE</span>

    <div class="loser-wrapper"> 
      <% losers.forEach(loser => { %>
        <span class="results-display-name"><%= loser.display_name %></span> 
        <span class="results-total">score: <%=loser.score %></span>
      <% }) %>
    </div>
    
    <div class="results-end-game-btn">
      <button class="dark-btn" data-game-id="<%= gameId %>">End game</button>
    </div>
  </form>
</div>

<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="js/result.js"></script>

